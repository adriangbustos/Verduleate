<p-toast />
<header>
    <a id="foto">
        <img src="../../../assets/LogoCompleto.png" [routerLink]="['/comprador/main-comprador']"
            style="cursor: pointer;" />
    </a>
    <div id="busqueda" style="opacity: 0;">
        <div class="searchBox">

        </div>
    </div>
    <div id="menu">
            <p-menu styleClass="profileMenu" #profileMenu [model]="menuItems" popup></p-menu>
            <button type="button" pButton (click)="profileMenu.toggle($event)">
                <i class="pi pi-user"></i>
                <i class="pi pi-bars"></i>
            </button>
        </div>
</header>

<body>
    <div *ngIf="producto$ | async as producto" class="product-detail-container">
        <!-- Left Section - Product Image -->
        <div class="divImage">
            <img [src]="'../../../assets/vegetales/' + formatVegetal(producto.Vegetal) + '.png'"
                [alt]="producto.Vegetal" />
        </div>
        <div id="cartButton">
            <button type="button" pButton (click)="addToCart(producto)">
                <i class="pi pi-shopping-cart"></i>
                <span style="writing-mode: vertical-rl; text-orientation: mixed;">Agregar al Carrito</span>
            </button>
        </div>

        <aside class="divBoxes">
            <div class="div1">
                <h4>Provincia</h4>
                <p>{{ producto.provincia.state }}</p>
            </div>
            <div class="div2">
                <h4>Precio</h4>
                <p>${{ producto.precio }}/{{ producto.medida.peso }}</p>
            </div>
            <div class="div3">
                <h4>Fecha Cultivado</h4>
                <p>{{ producto.fechaCultivado.toDate() | date: 'dd/MM/yyyy' }}</p>
            </div>
            <div class="div4">
                <h4>Descripción</h4>
                <p-scrollPanel [style]="{ width: '100%', height: '80%' }">
                    <p>{{ producto.descripcionCultivo }}</p>
                </p-scrollPanel>
            </div>
        </aside>

        <!-- Farm Info Section -->

    </div>
    <footer class="divFooter" *ngIf="producto$ | async as producto">
        <div class="left">
            <h4>{{ producto.agricultor?.fincaname }}</h4>
            <p>{{ producto.agricultor?.descripcionFinca }}</p>
        </div>
        <aside class="right">
            <div class="subRight">
                <h4>{{ producto.agricultor?.fullname }}</h4>
                <ul style="font-size: 15px;">
                    <li>- {{ producto.agricultor?.cellphone }}</li>
                    <li>- {{ producto.agricultor?.email }}</li>
                </ul>
            </div>
        </aside>
    </footer>
</body>

<footer class="footer">
    <div class="footer-content">
        <!-- Sobre Nosotros -->
        <div class="footer-section">
            <h3>Sobre Verduleate</h3>
            <p>Conectamos agricultores locales con consumidores, promoviendo una alimentación saludable y sostenible en
                Ecuador.</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </div>

        <!-- Enlaces Útiles -->
        <div class="footer-section">
            <h3>Enlaces Útiles</h3>
            <ul>
                <li><a href="#">Inicio</a></li>
                <li><a href="#">Productos</a></li>
                <li><a href="#">Cómo Funciona</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">Preguntas Frecuentes</a></li>
            </ul>
        </div>

        <!-- Contacto -->
        <div class="footer-section">
            <h3>Contacto</h3>
            <div class="contact-info">
                <i class="fas fa-map-marker-alt"></i>
                <p>Guayaquil, Ecuador</p>
            </div>
            <div class="contact-info">
                <i class="fas fa-phone"></i>
                <p>+593 99 999 9999</p>
            </div>
            <div class="contact-info">
                <i class="fas fa-envelope"></i>
                <p>info&#64;verduleate.com</p>
            </div>
        </div>

        <!-- Newsletter -->
        <div class="footer-section">
            <h3>Newsletter</h3>
            <p>Suscríbete para recibir noticias sobre productos frescos y ofertas especiales.</p>
            <div class="newsletter-form">
                <input type="email" placeholder="Tu correo electrónico">
                <button>
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2025 Verduleate. Todos los derechos reservados.</p>
    </div>
</footer>

<div *ngIf="isLoading2" class="popupLoader">
    <div class="loading-container">
        <div class="spinner"></div>
        <p style="color: white;">Cerrando Sesión</p>
    </div>
</div>